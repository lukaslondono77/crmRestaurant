<!DOCTYPE html>
<html lang="zxx">
    <head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Links Of CSS File -->
		<link rel="stylesheet" href="../assets/css/sidebar-menu.css">
		<link rel="stylesheet" href="../assets/css/simplebar.css">
		<link rel="stylesheet" href="../assets/css/prism.css">
        <link rel="stylesheet" href="../assets/css/quill.snow.css">
        <link rel="stylesheet" href="../assets/css/remixicon.css">
        <link rel="stylesheet" href="../assets/css/swiper-bundle.min.css">
        <link rel="stylesheet" href="../assets/css/jsvectormap.min.css">
		<link rel="stylesheet" href="../assets/css/style.css">
		
		<!-- Favicon -->
		<link rel="icon" type="image/png" href="../assets/images/favicon.png">
        
		<!-- Title -->
		<title>Cloudignite - Restaurant Cost Control Platform</title>
    </head>
    <body class="bg-body-bg">
        
        <!-- Start Preloader Area -->
        <div class="preloader" id="preloader">
            <div class="preloader">
                <div class="waviy position-relative">
                    <span class="d-inline-block">C</span>
                    <span class="d-inline-block">l</span>
                    <span class="d-inline-block">o</span>
                    <span class="d-inline-block">u</span>
                    <span class="d-inline-block">d</span>
                    <span class="d-inline-block">i</span>
                    <span class="d-inline-block">g</span>
                    <span class="d-inline-block">n</span>
                    <span class="d-inline-block">i</span>
                    <span class="d-inline-block">t</span>
                    <span class="d-inline-block">e</span>
                </div>
            </div>
        </div>
        <!-- End Preloader Area -->

        <div class="container-fluid">
            <div class="main-content d-flex flex-column p-0">
                <div class="m-lg-auto my-auto w-930 py-4">
                    <div class="card bg-white border rounded-10 border-white py-100 px-130">
                        <div class="p-md-5 p-4 p-lg-0">
                            <div class="text-center mb-4">
                                <h3 class="fs-26 fw-medium" style="margin-bottom: 6px;">Sign In</h3>
                                <p class="fs-16 text-secondary lh-1-8">Donâ€™t have an account yet? <a href="sign-up.html" class="text-primary text-decoration-none">Sign Up</a></p>
                            </div>

                            <form id="loginForm">
                                <div id="errorMessage" class="alert alert-danger d-none" role="alert"></div>
                                <div id="successMessage" class="alert alert-success d-none" role="alert"></div>
                                
                                <div class="mb-20">
                                    <label class="label fs-16 mb-2">Email Address</label>
                                    <div class="form-floating">
                                        <input type="email" class="form-control" id="emailInput" placeholder="Enter email address *" required>
                                        <label for="emailInput">Enter email address *</label>
                                    </div>
                                </div>
                                <div class="mb-20">
                                    <label class="label fs-16 mb-2">Your Password</label>
                                    <div class="form-group" id="password-show-hide">
                                        <div class="password-wrapper position-relative password-container">
                                            <input type="password" class="form-control text-secondary password" id="passwordInput" placeholder="Enter password *" required>
                                            <i style="color: #A9A9C8; font-size: 22px; right: 15px;" class="ri-eye-off-line password-toggle-icon translate-middle-y top-50 position-absolute cursor text-secondary" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-20">
                                    <div class="d-flex justify-content-between align-items-center flex-wrap gap-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                            <label class="form-check-label fs-16" for="flexCheckDefault">
                                                Remember me
                                            </label>
                                        </div>
                                        <a href="forgot-password.html" class="fs-16 text-primary fw-normal text-decoration-none">Forgot Password?</a>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <button type="submit" class="btn btn-primary fw-normal text-white w-100" style="padding-top: 18px; padding-bottom: 18px;" id="loginButton">
                                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                        <span class="button-text">Sign In</span>
                                    </button>
                                </div>

                                <div class="position-relative text-center z-1 mb-12">
                                    <span class="fs-16 bg-white px-4 text-secondary card d-inline-block border-0">or sign in with</span>
                                    <span class="d-block border-bottom border-2 position-absolute w-100 z-n1" style="top: 13px;"></span>
                                </div>

                                <ul class="p-0 mb-0 list-unstyled d-flex justify-content-center" style="gap: 10px;">
                                    <li>
                                        <a href="https://www.facebook.com/" target="_blank" class="d-inline-block rounded-circle text-decoration-none text-center text-white transition-y fs-16" style="width: 30px; height: 30px; line-height: 30px; background-color: #3a559f;">
                                            <i class="ri-facebook-fill"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.twitter.com/" target="_blank" class="d-inline-block rounded-circle text-decoration-none text-center text-white transition-y fs-16" style="width: 30px; height: 30px; line-height: 30px; background-color: #0f1419;">
                                            <i class="ri-twitter-x-line"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.google.com/" target="_blank" class="d-inline-block rounded-circle text-decoration-none text-center text-white transition-y fs-16" style="width: 30px; height: 30px; line-height: 30px; background-color: #e02f2f;">
                                            <i class="ri-google-fill"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.linkedin.com/" target="_blank" class="d-inline-block rounded-circle text-decoration-none text-center text-white transition-y fs-16" style="width: 30px; height: 30px; line-height: 30px; background-color: #007ab9;">
                                            <i class="ri-linkedin-fill"></i>
                                        </a>
                                    </li>
                                </ul>
                            </form> 
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="switch-toggle dark-btn p-0 bg-transparent lh-0 border-0" id="switch-toggle"></button>

        <!-- Start Theme Setting Area -->
        <button class="btn btn-primary theme-settings-btn p-0 position-fixed z-2 text-center rounded-circle" style="bottom: 24px; right: 24px; width: 56px; height: 56px; line-height: 54px;" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">
            <i class="text-white ri-settings-3-fill fs-28" data-bs-toggle="tooltip" data-bs-placement="left" data-bs-title="Click On Theme Settings"></i>
        </button>

        <!-- Start Theme Setting Area -->
        <div class="offcanvas offcanvas-end bg-white border-0" data-bs-scroll="true" data-bs-backdrop="true" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel" style="box-shadow: 0 4px 20px #2f8fe812 !important; max-width: 300px;">
            <div class="offcanvas-header bg-light p-20">
                <h5 class="offcanvas-title fs-18 fw-medium" id="offcanvasScrollingLabel">Configuration Panel</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body p-0 overflow-hidden">
                <div class="last-child-none" style="max-height: 858px;" data-simplebar>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">RTL Mode</h4>
                        <div class="rtl-btn">
                            <label id="switch">
                                <input type="checkbox" onchange="toggleTheme()" class="toggle-switch rtl-switch" id="slider">
                            </label>
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Only Sidebar Dark</h4>
                        <div class="sidebar-light-dark" id="sidebar-light-dark">
                            <input type="checkbox" class="toggle-switch sidebar-dark-switch">
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Only Header Dark</h4>
                        <div class="header-light-dark" id="header-light-dark">
                            <input type="checkbox" class="toggle-switch header-dark-switch">
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Right Sidebar</h4>
                        <div class="right-sidebar" id="right-sidebar">
                            <input type="checkbox" class="toggle-switch right-sidebar-switch">
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Hide Sidebar</h4>
                        <div class="icon-sidebar" id="icon-sidebar">
                            <input type="checkbox" class="toggle-switch icon-sidebar-switch">
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Bordered Card</h4>
                        <div class="card-border" id="card-border">
                            <input type="checkbox" class="toggle-switch border-switch">
                        </div>
                    </div>
                    <div class="p-20 border-bottom child">
                        <h4 class="fs-15 fw-medium mb-12">Card Border Radius</h4>
                        <div class="card-radius-square" id="card-radius-square">
                            <input type="checkbox" class="toggle-switch border-radius-switch">
                        </div>
                    </div>
                    
                    <div class="p-20 border-bottom child">
                        <a href="#" class="btn btn-primary text-white">
                            Buy Fila
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Theme Setting Area -->
     
        <!-- Link Of JS File -->
        <script src="../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../assets/js/auth/authService.js"></script>
        <script src="../assets/js/sidebar-menu.js"></script>
        <script src="../assets/js/quill.min.js"></script>
        <script src="../assets/js/data-table.js"></script>
        <script src="../assets/js/prism.js"></script>
        <script src="../assets/js/clipboard.min.js"></script>
        <script src="../assets/js/simplebar.min.js"></script>
        <script src="../assets/js/apexcharts.min.js"></script>
        <script src="../assets/js/echarts.min.js"></script>
        <script src="../assets/js/swiper-bundle.min.js"></script>
        <script src="../assets/js/fullcalendar.main.js"></script>
        <script src="../assets/js/jsvectormap.min.js"></script>
        <script src="../assets/js/world-merc.js"></script>
        <script src="../assets/js/custom/apexcharts.js"></script>
        <script src="../assets/js/custom/echarts.js"></script>
        <script src="../assets/js/custom/maps.js"></script>
        <script src="../assets/js/custom/custom.js"></script>
        
        <!-- Login Script -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Check if already logged in
                if (window.authService && window.authService.isAuthenticated()) {
                    window.location.href = 'index.html';
                    return;
                }

                const loginForm = document.getElementById('loginForm');
                const emailInput = document.getElementById('emailInput');
                const passwordInput = document.getElementById('passwordInput');
                const loginButton = document.getElementById('loginButton');
                const errorMessage = document.getElementById('errorMessage');
                const successMessage = document.getElementById('successMessage');

                function showError(message) {
                    errorMessage.textContent = message;
                    errorMessage.classList.remove('d-none');
                    successMessage.classList.add('d-none');
                }

                function showSuccess(message) {
                    successMessage.textContent = message;
                    successMessage.classList.remove('d-none');
                    errorMessage.classList.add('d-none');
                }

                function hideMessages() {
                    errorMessage.classList.add('d-none');
                    successMessage.classList.add('d-none');
                }

                function setLoading(loading) {
                    const spinner = loginButton.querySelector('.spinner-border');
                    const buttonText = loginButton.querySelector('.button-text');
                    if (loading) {
                        spinner.classList.remove('d-none');
                        buttonText.textContent = 'Signing In...';
                        loginButton.disabled = true;
                    } else {
                        spinner.classList.add('d-none');
                        buttonText.textContent = 'Sign In';
                        loginButton.disabled = false;
                    }
                }

                loginForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    hideMessages();

                    const email = emailInput.value.trim();
                    const password = passwordInput.value;

                    if (!email || !password) {
                        showError('Please enter both email and password');
                        return;
                    }

                    setLoading(true);

                    try {
                        const result = await window.authService.login(email, password);
                        if (result.success) {
                            showSuccess('Login successful! Redirecting...');
                            setTimeout(() => {
                                window.location.href = 'index.html';
                            }, 1000);
                        }
                    } catch (error) {
                        showError(error.message || 'Login failed. Please check your credentials.');
                        setLoading(false);
                    }
                });
            });
        </script>
    </body>
</html>